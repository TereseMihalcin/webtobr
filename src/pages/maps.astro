---
import Map from '../components/map.astro';
import maplibregl from "maplibre-gl";
import GenericHeader from '../components/header.astro';

---
<!doctype html>
<html>
	<head>
		<GenericHeader/>
	   	<title>Mapbox GL JS map</title>
	   	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
		<link href="https://unpkg.com/maplibre-gl@^5.8.0/dist/maplibre-gl.css" rel="stylesheet" />
		<link rel="preload" as="fetch" href="https://octothorp.es/?uri=https://webtobr.netlify.app/maps/" >
		<link rel="octo:octothorpes" href="weirdweboctober" >
		<link rel="octo:octothorpes" href="Maps" >
		<style>
		body { margin: 0; padding: 0; }
		#map { height: 600px; max-width:100%; max-height: 100%; }
		</style>
	</head>
	<body>
		
		<div class="container mt-3">
			<div class="row flex-direction-column">
				<h1>Some public outdoor volleyball nets in RI</h1>
				<p>Ran out of time.<br>Have not used mapLibre before but i've been meaning to.<br> Eventually I would love to make a directory with all outdoor volleyball nets for public use in RI, and make it look nice etc.</p>
			</div>
			<div class="row justify-content-center">
				<div id='map'></div>
			</div>
		</div>
	   
	   <script>
		const style = {
			"version": 8,
				"sources": {
				"osm": {
						"type": "raster",
						"tiles": ["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png"],
						"tileSize": 256,
				"attribution": "&copy; OpenStreetMap Contributors",
				"maxzoom": 19
				}
			},
			"layers": [
				{
				"id": "osm",
				"type": "raster",
				"source": "osm" // This must match the source key above
				}
			]
			};

// Initialise the map
const map = new maplibregl.Map({
  container: 'map',
  style: style,
  center: [288.5, 41.7],
  zoom: 8.8
});
let marker = new maplibregl.Marker().setLngLat([288.65, 41.7525]).addTo(map); 
    let lngLat = marker.getLngLat();
    map.on("click", () => {
          new maplibregl.Popup().setHTML("There's one around here").setLngLat(lngLat).addTo(map);
    });

// Add the navigation control
map.addControl(new maplibregl.NavigationControl());
	</script>
	</body>
	<script src="https://unpkg.com/maplibre-gl@^5.8.0/dist/maplibre-gl.js"></script>

	</html>